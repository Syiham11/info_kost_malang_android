	<!DOCTYPE html>
	<html>
	<head>
		<title>Firebase</title>

		  <meta charset="utf-8">
		  <meta name="viewport" content="width=device-width, initial-scale=1">
		  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		
	<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyCvD1W5jj0q_doFcnXdih9FiKvmhzkL4xc",
	    authDomain: "aplikasi-kos-19976.firebaseapp.com",
	    databaseURL: "https://aplikasi-kos-19976.firebaseio.com",
	    projectId: "aplikasi-kos-19976",
	    storageBucket: "aplikasi-kos-19976.appspot.com",
	    messagingSenderId: "704809725173"
	  };
	  firebase.initializeApp(config);
	</script>
	</head>
	<body>
		<nav class="navbar navbar-default">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" onclick="btnhome()">K-Ma</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		        <li><a href="">Daftar Akun</a></li>
		      </ul>
		      <ul class="nav navbar-nav">
		        <li><a onclick="addData()">Tambah Data Kos</a></li>
		      </ul>

		      
		      <ul class="nav navbar-nav navbar-right">
		      	<form class="navbar-form navbar-left">
			        <div class="form-group">
			          <input type="text" class="form-control" placeholder="Pencarian">
			        </div>
			        <button type="submit" class="btn btn-default">Cari</button>
			      </form>
		        <li class="dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Pengaturan<span class="caret"></span></a>
		          <ul class="dropdown-menu">
		            <li><a href="#">Action</a></li>
		            <li><a href="#">Another action</a></li>
		            <li><a href="#">Something else here</a></li>
		            <li role="separator" class="divider"></li>
		            <li><a onclick="logout()">Keluar</a></li>
		          </ul>
		        </li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		<!-- <table> -->
			<div class="jumbotron">
		      <h3><center>"Masukkan data untuk menambahkan data kos"</center></h3>
		    </div>
			<form class="form-horizontal">
			  
			  <div class="form-group">	
				    <label for="user_id" class="col-sm-2 control-label">ID User</label>
				    <div class="col-sm-6">
				      <input type="user_id" name="id" class="form-control" id="user_id" placeholder="User ID">
			   		</div>
			  </div>
			  
			  <div class="form-group">
			    <label for="alamat" class="col-sm-2 control-label">Alamat</label>
			    <div class="col-sm-6">
			      <input type="alamat" class="form-control" id="alamat" placeholder="Alamat">
			    </div>
			  </div>


			  <div class="form-group">
			    <label for="fastkt" class="col-sm-2 control-label">Fasilitas Kamar Tidur</label>
			    <div class="col-sm-6">
			      <input type="fastkt" class="form-control" id="fastkt" placeholder="Fasilitas Kamar Tidur">
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="faskm" class="col-sm-2 control-label">Fasilitas Kamar Mandi</label>
			    <div class="col-sm-6">
			      <input type="faskm" class="form-control" id="faskm" placeholder="Fasilitas Kamar Mandi">
			    </div>
			  </div>
				
			   <div class="form-group">
			    <label for="fasu" class="col-sm-2 control-label">Fasilitas Umum</label>
			    <div class="col-sm-6">
			      <input type="fasu" class="form-control" id="fasu" placeholder="Fasilitas Umum">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="hap" class="col-sm-2 control-label">Harga Perbulan</label>
			    <div class="col-sm-6">
			      <input type="hap" class="form-control" id="hap" placeholder="Harga Perbulan">
			    </div>
			  </div>

				
			   <div class="form-group">
			    <label for="user_name" class="col-sm-2 control-label">Gambar</label>
			    <div class="col-sm-6">
			      <input type="user_name" class="form-control" id="user_name" placeholder="Gambar">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="jkos" class="col-sm-2 control-label">Jenis Kos</label>
			    <div class="col-sm-6">
			      <input type="jkos" class="form-control" id="jkos" placeholder="Jenis Kos">
			    </div>
			  </div>

			 <div class="form-group">
			    <label for="jumkos" class="col-sm-2 control-label">Jumlah Kos</label>
			    <div class="col-sm-6">
			      <input type="jumkos" class="form-control" id="jumkos" placeholder="Jumlah Kos">
			    </div>
			  </div>
			 
			  <div class="form-group">
			    <label for="lat" class="col-sm-2 control-label">Latitude</label>
			    <div class="col-sm-6">
			      <input type="lat" class="form-control" id="lat" placeholder="Latitude">
			    </div>
			  </div>

			   <div class="form-group">
			    <label for="longt" class="col-sm-2 control-label">Longitude</label>
			    <div class="col-sm-6">
			      <input type="longt" class="form-control" id="longt" placeholder="Longitude">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="lkmr" class="col-sm-2 control-label">Luas Kamar</label>
			    <div class="col-sm-6">
			      <input type="lkmr" class="form-control" id="lkmr" placeholder="Luas Kamar">
			    </div>
			  </div>

			  <div class="form-group">
			    <label for="byr" class="col-sm-2 control-label">Bayar</label>
			    <div class="col-sm-6">
			      <input type="byr" class="form-control" id="byr" placeholder="Bayar">
			    </div>
			  </div>

			    <div class="form-group">
			    <label for="nkos" class="col-sm-2 control-label">Nama Kos</label>
			    <div class="col-sm-6">
			      <input type="nkos" class="form-control" id="nkos" placeholder="Nama Kos">
			    </div>
			  </div>

			  <div class="form-group">
		        <div class="col-sm-offset-2 col-sm-6">
		          <button type="button" onclick="save_user();" class="btn btn-primary">Tambah Data</button>
		        </div>
		      </div>

			</form>		
	
			


		
			<tr>
				<td colspan="2">
					<input type="button" value="Update" onclick="update_user();"/>
					<input type="button" value="Delete" onclick="delete_user();"/>
				</td>
			</tr>
		</table>

		<h3>User List</h3>

		<table id="tbl_user_list" border="1">
			<tr>
				<td>ID</td>
				<td>Alamat</td>
				<td>Fasilitas Kamar Tidur</td>
				<td>Fasilitas Kamar Mandi</td>
				<td>Fasilitas Umum</td>
				<td>Harga Perbulan</td>
				<td>Gambar</td>
				<td>Jenis Kos</td>
				<td>Jumlah</td>
				<td>Latitude</td>
				<td>longitude</td>
				<td>Luas Kamar</td>
				<td>Bayar</td>
				<td>Nama Kos</td>
			</tr>
		</table>

		<script>
			var tblUsers = document.getElementById('tbl_user_list');
			var databaseRef = firebase.database().ref('/dataKosts/detail/');
			var rowIndex = 1;


			databaseRef.once('value', function(snapshot) {
			  snapshot.forEach(function(childSnapshot) {
			    var childKey = childSnapshot.key;
			    var childData = childSnapshot.val();
			    
			    // ...
			    var row = tblUsers.insertRow(rowIndex);
			    var cellId = row.insertCell(0);
			    var cellName = row.insertCell(1);
			    var cellAlamat = row.insertCell(2);
			    var cellFasKT = row.insertCell(3);
			    var cellFasKM = row.insertCell(4);
			    var cellFasU = row.insertCell(5);
			    var cellHap = row.insertCell(6);
			    var cellJkos = row.insertCell(7);
			    var cellJumkos = row.insertCell(8);
			    var cellLat = row.insertCell(9);
			    var cellLongt = row.insertCell(10);
			    var cellLkmr = row.insertCell(11);
			    var cellByr = row.insertCell(12);
			    var cellNkos = row.insertCell(13);

			    cellId.appendChild(document.createTextNode(childKey));
			    cellName.appendChild(document.createTextNode(childData.user_name));
			    cellAlamat.appendChild(document.createTextNode(childData.alamat));
			    cellFasKT.appendChild(document.createTextNode(childData.fastkt));
			    cellFasKM.appendChild(document.createTextNode(childData.faskm));
			    cellFasU.appendChild(document.createTextNode(childData.fasu));
			    cellHap.appendChild(document.createTextNode(childData.hap));
			    cellJkos.appendChild(document.createTextNode(childData.jkos));
			    cellJumkos.appendChild(document.createTextNode(childData.jumkos));
			    cellLat.appendChild(document.createTextNode(childData.lat));
			    cellLongt.appendChild(document.createTextNode(childData.longt));
			    cellLkmr.appendChild(document.createTextNode(childData.lkmr));
			    cellByr.appendChild(document.createTextNode(childData.byr));
			    cellNkos.appendChild(document.createTextNode(childData.nkos));

			    rowIndex = rowIndex + 1;
			  });
			});
			

			function save_user(){
				// var user_name = document.getElementById('user_name').value;

				// var uid = firebase.database().ref().child('users').push().key;

				// var data = {
				// 	user_id: uid,
				// 	user_name: user_name
				// }

				// var updates = {};
				// updates['/user/' + uid] = data;
				// firebase.database().ref().update(updates);

				// alert('the user is created successfully');
				// reload_page();
				var user_name = document.getElementById('user_name').value;
				var user_id = document.getElementById('user_id').value;
				var alamat = document.getElementById('alamat').value;
				var fastkt = document.getElementById('fastkt').value;
				var faskm = document.getElementById('faskm').value;
				var fasu = document.getElementById('fasu').value;
				var hap = document.getElementById('hap').value;
				var jkos = document.getElementById('jkos').value;
				var jumkos = document.getElementById('jumkos').value;
				var lat = document.getElementById('lat').value;
				var longt = document.getElementById('longt').value;
				var lkmr = document.getElementById('lkmr').value;
				var byr = document.getElementById('byr').value;
				var nkos = document.getElementById('nkos').value;

				/*alert(user_id);*/
				var data = {
					user_id: user_id,
					user_name: user_name,
					alamat: alamat,
					fastkt: fastkt,
					faskm: faskm,
					fasu: fasu,
					hap: hap,
					jkos: jkos,
					jumkos: jumkos,
					lat: lat,
					longt: longt,
					lkmr: lkmr,
					byr: byr,
					nkos:nkos
				}

				var updates = {};
				updates['/dataKosts/detail/' + user_id] = data;
				firebase.database().ref().update(updates);

				alert('the user is created successfully' + user_id);
				reload_page();
			}

			function update_user(){
				var user_name = document.getElementById('user_name').value;
				var user_id = document.getElementById('user_id').value;

				/*alert(user_id);*/
				var data = {
					user_id: user_id,
					user_name: user_name
				}

				var updates = {};
				updates['/user/' + user_id] = data;
				firebase.database().ref().update(updates);

				alert('the user is updated successfully' + user_id);
				reload_page();
			}

			function delete_user(){
				var user_id = document.getElementById('user_id').value;


				firebase.database().ref().child('dataKosts/detail/' + user_id ).remove();
				alert('the user is deleted successfully');
				reload_page();

			}
			function reload_page(){
				window.location.reload();
			}

		</script>
	</body>
	</html>